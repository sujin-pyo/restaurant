(()=>{"use strict";function n(n,t){this.name=n,this.time=t}function t(){this.status="ready"}function e(n){this.time=n,this.status="ready"}t.prototype.isAvailable=function(){return"ready"==this.status},t.prototype.cookAsync=function(n){var t=this;return this.status="cooking",new Promise((function(e){setTimeout((function(){t.status="ready",e()}),n.time)}))},e.prototype.isAvailable=function(){return"ready"===this.status},e.prototype.serverAsync=function(n){var t=this;return this.status="serving",new Promise((function(e){setTimeout((function(){t.status="ready",e()}),n.time)}))};var i=[],o=[],r=[];document.getElementById("sundae").onclick=function(){a(new n("순댓국",2e3))},document.getElementById("haejang").onclick=function(){a(new n("해장국",5e3))};var s=[new t,new t],u=[new e(2e3),new e(5e3)];function c(n,t){var e=document.getElementById(n);e.innerHTML="",t.forEach((function(n){var t=document.createElement("li");t.textContent=n.name,e.append(t)}))}function a(n){i.push(n),c("orders",i),new Promise((function(n){var t=setInterval((function(){var e=s.find((function(n){return n.isAvailable()}));e&&(clearInterval(t),n(e))}),500)})).then((function(t){return i.splice(i.indexOf(n),1),c("orders",i),o.push(n),c("cooking",o),t.cookAsync(n)})).then((function(){return o.splice(o.indexOf(n),1),c("cooking",o),new Promise((function(n){var t=setInterval((function(){var e=u.find((function(n){return n.isAvailable()}));e&&(clearInterval(t),n(e))}),500)}))})).then((function(t){return r.push(n),c("serving",r),t.serverAsync(t)})).then((function(){r.splice(r.indexOf(n),1),c("serving",r),console.log("맛점~~")}))}})();
//# sourceMappingURL=main.js.map